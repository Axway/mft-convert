{
"title": "Policy Studio preferences and options",
"linkTitle": "Policy Studio preferences and options",
"weight": 16,
"date": "2019-10-17",
"description": "Configure preferences and viewing options for Policy Studio."
}

## Preferences

The **Preferences** dialog enables you to configure a range of settings for Policy Studio. For example, you can configure the level at which Policy Studio traces diagnostic output. To change the Policy Studio settings, select **Window > Preferences** from the main menu. Each of the available settings is discussed in the following sections.

{{< alert title="Note" color="primary" >}}When finished your updates, remember to click **Apply**
at the bottom of the window, and to click **Deploy**
in the toolbar. {{< /alert >}}

### Auto-mapping

These settings relate to the auto-mapping feature in Visual Mapper. For more information, see the
[API Gateway Visual Mapper User Guide](https://docs.axway.com/bundle/API_VisualMapper_77_UserGuide_allOS_en_HTML5).

### Environmentalization

Environmentalization refers to configuring environment-specific settings for a particular target environment (for example, users, certificates, and external connections for a development environment). You can enable Policy Studio to display settings that have been environmentalized by selecting the **Allow environmentalization of fields**
option.

When this option is selected, you can environmentalize a selected field (for example, database URL) by clicking the globe icon to the right of the field. Alternatively, press **Ctrl-E**. When you have selected settings to be environmentalized, the field is disabled, and the globe icon is displayed on the right. You can manage settings that have been environmentalized under the **Environment Settings**
node in the Policy Studio tree.

### FIPS mode

The **FIPS Mode**
setting enables you to enable Federal Information Processing Standards (FIPS) mode for Policy Studio. This enables FIPS-certified cryptographic modules and ensures that all cryptographic operations (for example, SSL) are performed by these modules. To enable FIPS mode, select **Enable FIPS mode in Axway Policy Studio**.

{{< alert title="Note" color="primary" >}}To run in this mode, you must install API Gateway with a FIPS-compliant mode license.{{< /alert >}}

### Policy colors

The **Policy Colors**
settings enable you to customize the look-and-feel of the Policy Canvas in the Policy Studio. For example, you can change the colors of the following components:

* **Policy Background**:
    Changes the background color of the Policy Canvas.
* **Missing Attribute**:
    You can right-click the Policy Canvas, and select **Show All Attributes**
    from the context menu. When this is selected, each filter displays the list of required and generated message attributes that are relevant for that filter. If a required attribute has not been generated by a previous filter in the policy, the attribute is highlighted in a different color (red by default). You can change this color by selecting an appropriate color using this setting.
* **Success Path**:
    You can change the color of the Success Path link using this setting.
* **Failure Path**:
    Similarly, you can change the color of the Failure Path link here.
* **Show Link Labels**:
    If this option is selected, a Success Path is labeled with the letter S, while a Failure Path is labeled F.

### Proxy settings

You can specify global proxy settings that apply only when downloading WSDL, XSD, and XSLT files from Policy Studio. These include the following settings:

| Proxy Setting | Description                                             |
|---------------|---------------------------------------------------------|
| **Host**      | Host name or IP address of the proxy server.            |
| **Port**      | Port number on which to connect to the proxy server.    |
| **Username**  | Optional user name when connecting to the proxy server. |
| **Password**  | Optional password when connecting to the proxy server.  |

You can also specify individual proxy servers under the **Environment Configuration** > **External Connections** node in the Policy Studio tree. These are different from the global proxy settings in the **Preferences** because you can specify these proxy servers at the filter level (in the **Connection**
and **Connect To URL** filters).

### Runtime dependencies

The **Runtime Dependencies**
setting enables you to add JAR files to the Policy Studio classpath. For example, if you write a custom API Gateway filter, you must add its JAR file, and any third-party JAR files that it uses, to the **Runtime Dependencies**
list.

Click **Add**
to select a JAR file to add to the list of dependencies, and click **Apply**
when finished. A copy of the JAR file is added to the `plugins`
directory in your Policy Studio installation.

Then, restart Policy Studio and the server for these changes to take effect. You should restart Policy Studio using the `policystudio -clean` command.

#### Custom filter dependencies

If your custom filter introduces a dependency on a new third-party library, you must first check if the required library is already available under the following directory and sub-directories:

```
INSTALL_DIR/apigateway/system/lib
```

Any JAR file that you add under the following directories will be pushed ahead of `apigateway/system` JAR files on the CLASSPATH:

* `INSTALL_DIR/apigateway/ext/lib`
* `INSTALL_DIR/apigateway/groups/GROUP_ID/INSTANCE_ID/ext/lib`

For example, API Gateway ships with specific versions of several Apache Commons JARs. Introducing conflicting versions of these JARs could adversely affect the ability of the API Gateway and Node Manager to function correctly.

### SSL settings

The **SSL Settings**
enable you to specify what action is taken when an unrecognized server certificate is presented to the client. This allows Policy Studio to connect to SSL services without a requirement to add a certificate to its JVM certificate store.

Configure one of the following options:

* **Prompt User**: When you try to connect to SSL services, you are prompted with a dialog. If you choose to trust this particular server certificate displayed in the dialog, it is stored locally, and you are not prompted again.
* **Trust All**: All server certificates are trusted.
* **Keystore**: Enter or browse to the location of the **Keystore** that contains the authentication credentials sent to a remote host for mutual SSL, and enter the appropriate **Keystore Password**.

### Status bar

The **Show Status Bar**
setting enables you to specify whether the applications status bar is displayed at the bottom of the Policy Studio window. For example, this status bar displays details such as the currently selected tree node on the left, and details such as the heap size on the right. You can also use the status bar to run garbage collection by clicking the trash icon on the right. This status bar is enabled by default.

### Team development

The **Enable Team Development** setting enables team development project templates and project dependencies in Policy Studio. This setting is disabled by default.

### Trace level

You can set the level at which Policy Studio logs diagnostic output by selecting the appropriate level from the **Tracing Level**
drop-down list. Diagnostic output is written to a file in the `/logs`
directory of your Policy Studio installation. You can select **Window**
> **Show View**
> **Console**
in the main menu to view the trace output in the **Console**
window at the bottom of the screen. The default trace level is `INFO`.

You can also configure the **Maximum number of files** output to the `/logs`
directory. Defaults to 10 files.

### WS-I settings

Before importing a WSDL file that contains the definition of a web service into the web service repository, you can test the WSDL file for compliance with the Web Service Interoperability (WS-I) Basic Profile. The WS-I Basic Profile contains a number of *Test Assertions*
that describe rules for writing WSDL files for maximum interoperability with other WSDL authors, consumers, and other related tools.

The WS-I settings are described as follows:

| WS-I Setting              | Description                      |
|---------------------------|----------------------|
| **WS-I Tool Location**    | Use the **Browse** button to specify the full path to the Java version of the WS-Interoperability testing tools (for example, `C:\Program Files\WSI_Test_Java_Final_1.1\wsi-test-tools`).The WS-I testing tools are used to check a WSDL file for WS-I compliance. You can download them from [www.ws-i.org](http://www.ws-i.org).  |
| **Results Type**          | Select the type of WS-I test results that you wish to view in the generated report from the drop-down list. You can select from `all`, `onlyFailed`, `notPassed`, or `notInfo`.   |
| **Message Entry**         | Specify whether message entries should be included in the report using the check box (selected by default).     |
| **Failure Message**       | Specify whether the failure message defined for each test assertion should be included in the report using the check box (selected by default).     |
| **Assertion Description** | Specify whether the description of each test assertion should be included in the report using the check box (unselected by default).            |
| **Verbose Output**        | Specify whether verbose output is displayed in the Policy Studio console window using the check box (unselected by default). To view the console window, select **Window** > **Show Console** from the Policy Studio main menu.    |

{{< alert title="Note" color="primary" >}}On Linux, when you download WS-I Testing Tools v1.1, you must run `dos2unix`
on `/java/bin/Analyzer.sh` and `/java/bin/setenv.sh`, because both files do not have executable privileges set and have Windows line endings, so the shell interpreter is unable to use them.{{< /alert >}}

For details on running the WS-I testing tools, see [Manage WSDL and XML schema documents](/docs/apim_policydev/apigw_web_services/general_schema_cache/).

### XML settings

The **XML** settings enable you to configure a range of options that affect how XML files are treated in the Policy Studio.

**XML Files**: This includes the following options:

* **Creating or saving files**: Specifies a line delimiter (for example, `Mac`, `Unix`, `Windows`, or `No translation`).
* **Creating files**: Specifies a file suffix (`xml`), and the type of encoding (for example, `ISO 10646/Unicode(UTF-8)`).
* **Validating files** : Configures whether to warn when no grammar is specified.

**Source**: This includes the following options:

* **Formatting**: Specifies a range of formatting options (for example, line width, line breaks, and indentation).
* **Content assist**: Specifies whether to make suggestions and which strategy to use (for example, `Lax` or `Strict`).   * **Grammar constraints**: Specifies whether to use inferred grammar in the absence of DTD/Schema.

**Syntax Coloring**: These settings enable you to associate specific colors with specific XML syntax elements (for example, attribute names, comment delimiters, or processing instruction content).

## Viewing options

You can filter the Policy Studio navigation tree on the left of the window to display specified tree nodes only. You can click the **Options**
link at the bottom of the tree to display additional viewing options. These enable you to configure whether management services and tree node configuration types are displayed in the tree. Finally, you can configure how the Policy Studio policy filter palette is displayed on the right of the window when editing policies.

### Filter the tree

To filter the tree by a specific node name, enter the name in the text box above the tree. When you enter a name (for example, `SOAP Schema`), the tree is filtered automatically, and all occurrences are displayed in the tree.

Filtering the tree is especially useful in cases where many policies have been configured in the Policy Studio, and you wish to find a specific tree node (for example, a schema filter named **Check against SOAP Schema**).

### Configure viewing options

When you click the **Options**
link at the bottom left of the navigation tree, you can configure the following viewing option:

**Show Types**: Select this option to show the **Type**
column in the Policy Studio navigation tree. This shows the type of each node in the tree (for example, *HTTP Service*
or *Remote Host*). This option is not selected by default. When this option is selected, you can use the **Filter by type**
setting.

### Configure the policy filter palette

When editing policies, you can configure how the Policy Studio policy filter palette is displayed on the right of the window. Right-click the filter palette, and select from the following options:

**Layout**: Specifies how the filters are displayed in each category in the palette. By default, the filters are displayed in a list. Select one of the following options from the context menu:

* Columns
* List
* Icons Only
* Details

**Customize**: The **Customize Palette**
dialog enables you to customize each of the items displayed in the filter palette. Select a node in the tree on the left to display what can be customized on the right. For example, you can edit a filter name and description, specify whether it is hidden, and add tags to help searches. In addition, you can use the buttons above the tree to add or delete new category drawers or separators. You can also move a selected category drawer up or down in the palette.

**Settings**: The **Palette Settings**
dialog enables you to customize settings such as fonts, layout, and category drawer options (for example, close each drawer automatically when there is not enough room on the window).

**Restore Palette Defaults**: Restores all the palette settings from a default API Gateway installation.

## Advanced options

You can use the advanced filter view in Policy Studio to edit all filter settings as text values. This enables you to edit each field as a text value regardless of whether the field is displayed as a radio button, check box, or drop-down list in the default user-friendly view for the filter.

This also means that you can specify all filter fields using the API Gateway selector syntax. This enables settings to be evaluated and expanded at runtime using metadata (for example, from message attributes, a Key Property Store (KPS), or environment variables). This is a powerful feature for System Integrators (SIs) and Independent Software Vendors (ISVs) when integrating with other systems.

{{< alert title="Note" color="primary" >}}You should only modify filter settings using the advanced filter view under strict advice and supervision from Axway Support. {{< /alert >}}

### Enable advanced filter view

To enable the advanced filter view for a filter in the Policy Studio, press the **Shift**
key when opening the filter. For example, you can press **Shift**, and double-click a filter on the policy canvas. Alternatively, you can press **Shift**, right-click the filter in the Policy Studio tree or policy canvas, and select **Edit**.

In the advanced filter view, settings are displayed with the following characters before the field name:

* Required: **\*** (for example, **\*name**)
* Reference: **^** (for example, **^proxyServer**)
* Radio attribute: **(:)** (for example, **(:)httpAuthType**)

### Edit filter settings

You can specify all fields in this view using text values (for example, values such as `http://stockquote.com/stockquote/instance1`, `false`, `0`, `-1`, `500`, and so on). Alternatively, you can use the API Gateway selector syntax to expand values at runtime. The following example selector expands the user agent header sent by the client in the `http.headers`
message attribute:

```
${http.headers["User-Agent"]}
```

For example, this selector might return a user agent header such as the following at runtime:

```
Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/535.7 (KHTML, like Gecko) Chrome/16.0.912.77 Safari/535.7
```

To confirm your updates, you must click **Save Changes**
at the bottom right of the dialog. Alternatively, at any stage you can click **Restore Defaults**
to return to the original factory settings.

For more details on the API Gateway selector syntax, see [Select configuration values at runtime](/docs/apim_policydev/apigw_poldev/general_selector/).

### Return to default filter view

When you have finished editing filter settings in the advanced filter view, deselect the **Show Advanced Filter View**
setting in **Preferences**. Then when you edit a selected filter on the policy canvas, the default user-friendly view for the filter is displayed.
