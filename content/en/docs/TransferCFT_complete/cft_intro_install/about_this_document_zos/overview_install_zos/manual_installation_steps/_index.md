{
    "title": "Advanced installation",
    "linkTitle": "Advanced installation ",
    "weight": "220"
}Manually install or modify installation
---------------------------------------

The following JCLs are contained in the INSTALL library. Execute the JCLs in the order listed in the following table.

### Target customization


| Step  | JCL  | Description  |
| --- | --- | --- |
| 1  | [A03PARM](../t_customize_instance_zos#Modifying_A03PARM) | Customize file parameters |
| 2  | [A00CUSTO](../installation_parameters_to_customize) | Customize JOBs installation |
| 3  | A06FILES  | Create and initialize instance files  |
| 4  | A12OPTS | Select options for Transfer CFT operations<br/> *Optional step* |


After performing Steps 1 -4, you can either continue with the following step-by-step instructions, or start the JOB A05ALL, which uses the customized settings in the A03PARM file to run.


| Step  | JCL  | Description  |
| --- | --- | --- |
| 5  | B20LINK | General LINK-EDIT of Transfer CFT modules. Submit for non-SMP/E installations. |
| 6  | CFTGNKEY  | Generate an encryption key. See also [Password encryption](../t_customize_instance_zos#Password).  |
| 7  | COPA010 |   |


### Transfer CFT installation customization


| Step  | JCL  | Description  |
| --- | --- | --- |
| 8  | [CFT$SET](../zos_auto_install_a05all/t_customize_install_zos#JOB%C2%A0H80EXEC)<br/> CFT$SETC  | Select one of the two options available for this step to set the UCONF variables and create Transfer CFT parameters from a template.<br/> • CFT$SET: When not using Central Governance.<br/> • CFT$SETC: When using Central Governance. |
| 9  | [D40INIT](../zos_auto_install_a05all/t_customize_install_zos#D40INIT) | Format the Transfer CFT work files |
| 10  | [E50PARM](../t_customize_instance_zos)  | CFTPARM configuration example  |
| 11  | [Configure Transfer CFT Copilot server](t_configure_navigator_server_zos) |


### Optional steps


| Step  | JCL  | Description  |
| --- | --- | --- |
| 12  | C32XMEM | Communication server |
| 13  | [D47SYST](t_configure_optional_features_zos#Create%20a%20Transfer%20CFT%20PKI%20file%C2%A0D43PKI) | Select one of the options listed for Step 12:<br/> • D43PKI: Create internal datafile for PKI data<br/> • D44PASS: Declare link to PassPort server<br/> • D47SYST: Enable use of system PKI |
| 14  | [Customize Sentinel](t_install_sentinel_zos) configuration file |
| 15  | CFTHEART  | Activate Transfer CFT Heartbeats for Sentinel Dashboards  |
| 16  | CFTCGREG  | Register {{< TransferCFT/suitevariablesTransferCFTName  >}} with {{< TransferCFT/PrimaryCGorUM  >}}  |
| 17  | CFTCGPKI  | Used to register {{< TransferCFT/suitevariablesTransferCFTName  >}} with {{< TransferCFT/PrimaryCGorUM  >}}  |
| 18  | XSRRUN  | Launches the Java virtual machine (JVM).<br/> <blockquote> **Note**<br/> Note: Customize JOB card.<br/> </blockquote>  |
| 19  | XSRA010  | Install files for the Secure Relay Master Agent on the USS environment.  |
| 20  | XSRA015  | Create the Runtime directory for the Transfer CFT Secure Relay Master Agent.  |
| 21  | XSRA020  | Update the Secure Relay parameters for UCONF.  |
| 22  | XSRA050  | Update the Transfer CFT parameters samples.  |
| 23  | RESTCFG  | REST API configuration.  |


To manually install, you can run the following JOBs.

<span id="JOB B20LINK LINK-EDIT Transfer CFT "></span><span id="kanchor9"></span>

LINK-EDIT Transfer CFT using JOB B20LINK
----------------------------------------

You should only use this JCL for non-SMP/E installations.

The B20LINK JOB does a LINK-EDIT of Transfer CFT z/OS modules. Programs that are created in this step use the DLL mechanism.

Before beginning it is recommended that you save the execution listing for this JOB.

The CFTMAIN/CFTMA31 programs are copied in an authorized APF library for the cases in which Transfer CFT:

- Writes ACCOUNT records to SMF.

<!-- -->

- Uses the RACF options.

<!-- -->

- Sends messages to TSO users.

<!-- -->

- Uses dynamic UCBs (DRM) or UCBs that are defined in 31 bits in IODF.

<!-- -->

- Uses the ARM services.
- Uses a shared catalog cache.
- Frees unused space for received files.

> **Note**
>
> Note: The return code generated by the LINK-EDIT must be 0.

> **Note**
>
> Note: IMPORTANT - If you have applied a patch, resubmitting the JCL B20LINK resets all the executable files generated by this procedure to their original versions and therefore cancels any and all applied patches.

<span id="JOB B25LKWS LINK-EDIT Web services "></span>

<span id="COPA010 Setting up the CFT Navigator server files in USS "></span><span id="kanchor10"></span>

Set up Copilot server files in USS using COPA010
------------------------------------------------

The files that are used by the Transfer CFT Copilot server are located in the USS environment. The implementation directory is defined by the coppath parameter (cf A03PARM member in INSTALL library).

### Prerequisites

- Authorization to create the directory: coppath

<!-- -->

- Available disk space: 25,000 K

### **Procedure**

You can use the JCL COPA010 to set up the Transfer CFT Copilot files in USS.

1. Extract the Transfer CFT Copilot package from the distribution libraries in a temporary sequential file with a fixed format.
1. Transfer and install the files that are used by Transfer CFT Copilot. Use the pax command via a REXX procedure to perform this task. 
1. Execute the command: pax -rvf "//'tempory.seq.fix’" -o saveext

> **Note**
>
> Note: The file access rights are Read only for Group and others. Users must have rights to read the file system where the Transfer CFT Copilot USS files are installed. To get the file system name, enter the command: df .

**Example**

```
/home/AXWAY/CFT/copilot> df .Mounted on Filesystem Avail/Total Files Status
/home/AXWAY (xxxxxx.yyyyy.HFSAXWAY) 235680/1872000 4294927912 Available
```

****Related topics****

- [Create a Transfer CFT instance](../distribution_environment_installation/t_install_instance_envr_zos)
- [Customize the JCL installation files](../installation_parameters_to_customize)
